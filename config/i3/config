# Pascal's i3 config
# This config assumes some variables to be in your ENV, such as BROWSER and TERMINAL

set $term --no-startup-id termite
set $mod Mod4

# {{{ --- Starting External Scripts

# Since we autologin on a TTY, we'll want to lock the screen when starting i3
exec --no-startup-id locker.sh -l
exec --no-startup-id dunst
exec --no-startup-id compton
exec --no-startup-id locker.sh -w
exec --no-startup-id xmodmap .Xmodmap
exec --no-startup-id unclutter
exec --no-startup-id redshift -l geoclue2
# }}}

# {{{ --- Styling ---
default_border pixel 3
gaps inner 6
smart_gaps on
smart_borders on
font pango:Google Sans 12

# Set Xresources colors:
set_from_resource   $background    background  #000000
set_from_resource   $darkblack     color0      #000000
set_from_resource   $black         color8      #000000
set_from_resource   $darkred       color1      #000000
set_from_resource   $red           color9      #000000
set_from_resource   $darkgreen     color2      #000000
set_from_resource   $green         color10     #000000
set_from_resource   $darkyellow    color3      #000000
set_from_resource   $yellow        color11     #000000
set_from_resource   $darkblue      color4      #000000
set_from_resource   $blue          color12     #000000
set_from_resource   $darkmagenta   color5      #000000
set_from_resource   $magenta       color13     #000000
set_from_resource   $darkcyan      color6      #000000
set_from_resource   $cyan          color14     #000000
set_from_resource   $darkwhite     color7      #000000
set_from_resource   $white         color15     #000000
set                 $transparent               #00000000

# NAME                    BORDER         BACKGROUND  TEXT         INDICATOR      CHILD_BORDER
client.focused            $red           $red        $white       $blue          $red
client.unfocused          $darkblack     $blue       $white       $transparent   $darkblack
client.focused_inactive   $black         $blue       $white       $darkblack     $black
client.urgent             $darkred       $darkred    $black       $darkred       $darkred
client.background         $black

bar {
	font pango:Google Sans 12
	font pango:FontAwesome 12
	colors {
		background $darkblack
		statusline $darkwhite
		separator $background
		focused_workspace  $darkblack $white $darkblack
		active_workspace   $darkblack $darkblack $white
		inactive_workspace $darkblack $darkblack $darkwhite
		urgent_workspace   $red $darkblack $white
	}
	status_command i3blocks
	position top
	mode dock
	modifier None
	height 30
}

# }}}

# Workspaces
set $ws1 "1"
set $ws2 "2"
set $ws3 "3"
set $ws4 "4"
set $ws5 "5"
set $ws6 "6"
set $ws7 "7"
set $ws8 "8"
set $ws9 "9"
set $ws10 "10"

# #---Application window config---# #
for_window [class="Pinentry"] sticky enable
for_window [window_role="GtkFileChooserDialog"] resize shrink height 10 px
assign [class="Trello"] 8
assign [class="Slack"] 9

# {{{ --- Keybindings ---

# internal
bindsym $mod+Shift+space 	floating toggle
bindsym $mod+t						split toggle
bindsym $mod+f						fullscreen toggle
bindsym $mod+Shift+r 			restart
bindsym $mod+w            kill

# actions
bindsym $mod+Return 			exec $term
bindsym $mod+x						exec --no-startup-id locker.sh -l
bindsym $mod+Escape 			exec --no-startup-id powermenu.sh
bindsym $mod+m 						exec --no-startup-id rofimount
bindsym $mod+Shift+m 			exec --no-startup-id rofiumount

# movement
bindsym $mod+h			    focus left
bindsym $mod+j			    focus down
bindsym $mod+k			    focus up
bindsym $mod+l			    focus right
bindsym $mod+Shift+h		move left 30
bindsym $mod+Shift+j		move down 30
bindsym $mod+Shift+k		move up 30
bindsym $mod+Shift+l		move right 30

# resizing
bindsym $mod+u          exec --no-startup-id i3resize left
bindsym $mod+i          exec --no-startup-id i3resize down
bindsym $mod+o          exec --no-startup-id i3resize up
bindsym $mod+p          exec --no-startup-id i3resize right

# switch to workspace
bindsym $mod+1		workspace $ws1
bindsym $mod+2		workspace $ws2
bindsym $mod+3		workspace $ws3
bindsym $mod+4		workspace $ws4
bindsym $mod+5		workspace $ws5
bindsym $mod+6		workspace $ws6
bindsym $mod+7		workspace $ws7
bindsym $mod+8		workspace $ws8
bindsym $mod+9		workspace $ws9
bindsym $mod+0		workspace $ws10

# move focused container to workspace
bindsym $mod+Shift+1	move container to workspace $ws1
bindsym $mod+Shift+2	move container to workspace $ws2
bindsym $mod+Shift+3	move container to workspace $ws3
bindsym $mod+Shift+4	move container to workspace $ws4
bindsym $mod+Shift+5	move container to workspace $ws5
bindsym $mod+Shift+6	move container to workspace $ws6
bindsym $mod+Shift+7	move container to workspace $ws7
bindsym $mod+Shift+8	move container to workspace $ws8
bindsym $mod+Shift+9	move container to workspace $ws9
bindsym $mod+Shift+0	move container to workspace $ws10

# move workspaces between monitors
bindsym $mod+Control+Shift+h move workspace to output left
bindsym $mod+Control+Shift+l move workspace to output right


# #---Application Key Bindings---# #
bindsym $mod+e			 exec $term -e $FILE
bindsym $mod+Shift+a exec $term -e pulsemixer
bindsym $mod+b       exec --no-startup-id $BROWSER
bindsym $mod+space   exec --no-startup-id rofi -show drun -theme themes/drun

# #---Media Keys---# #

# For screenshots and recording
bindsym Print 			  exec --no-startup-id scrot
bindsym Shift+Print   exec --no-startup-id scrot -u
bindsym Control+Print exec --no-startup-id scrot -s

# #---Extra XF86 Keys---# #
# These are the extra media keys that some keyboards have.
bindsym XF86AudioMute		exec --no-startup-id volume mute
bindsym XF86AudioLowerVolume	exec --no-startup-id volume down 5
bindsym XF86AudioRaiseVolume	exec --no-startup-id volume up 5
bindsym Shift+XF86AudioLowerVolume	exec --no-startup-id volume down 10
bindsym Shift+XF86AudioRaiseVolume	exec --no-startup-id volume up 10
bindsym XF86MonBrightnessDown	exec --no-startup-id brightness dec 50
bindsym XF86MonBrightnessUp	exec --no-startup-id brightness inc 50

bindsym XF86AudioPlay exec playerctl play-pause
bindsym XF86AudioNext exec playerctl next
bindsym XF86AudioPrev exec playerctl previous

# }}}
